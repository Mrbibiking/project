<include file="Public/head"/>
<body class="no-skin">
<include file="Public/header"/>
<div class="main-container" id="main-container">
    <script type="text/javascript">
        try {
            ace.settings.check('main-container', 'fixed')
        } catch (e) {
        }
    </script>

    <include file="Public/sidebar"/>
    <div class="main-content">
        <div class="main-content-inner">
            <!-- #section:basics/content.breadcrumbs -->
            <include file="Public/breadcrumbs"/> 

            <!-- /section:basics/content.breadcrumbs -->
            <div class="page-content">
                <include file="Public/set"/>
                <div class="cf">
                    <a class="btn btn-info" href="{:U('add')}" value="">新增</a>
                </div>
                <form id="form" method="post" action="{:U('del')}">
                    <table class="table table-striped table-bordered">
                        <th class="center"><input class="check-all" type="checkbox" value=""></th>
                        <th>id</th>
                        <th>课程序号</th>
                        <th>课程</th>
                        <th>课程描述</th>
                        <th>课程分类</th>
                        <th>操作</th>
                        <volist name="data" id="qwe">
                            <tr>
                                <td class="center">
                                    <input class="ids" type="checkbox" name="ids[]" value="{$qwe['id']}">
                                </td>
                                <td>{$qwe['id']}</td>
                                <td>{$qwe['course_number']}</td>
                                <td>{$qwe['course_name']}</td>
                                <td>{$qwe['course_description']}</td>
                                <td>{$qwe['course_type_number']}</td>
                                <td>
                                    <a href="{:U('edit',array('id'=>$qwe[id]))}">修改</a>
                                    <a class="del" href="javascript:;" val="{:U('del',array('ids'=>$qwe[id]))}" title="删除">删除</a>
                                </td>
                            </tr>
                        </volist>
                        
                    </table>
                </form>
                <div class="cf">
                    <input id="submit" class="btn btn-info" type="button" value="删除">
                </div>
                <tr>{$page}</tr>
            </div>
        </div>
    </div>
    <include file="Public/footer"/>

</div><!-- /.main-container -->

<include file="Public/footerjs"/>
<!-- inline scripts related to this page -->
<script type="text/javascript">
    $(function () {
        $(".check-all").click(function () {
            $(".ids").prop("checked", this.checked);
        });
        $(".ids").click(function () {
            var option = $(".ids");
            option.each(function (i) {
                if (!this.checked) {
                    $(".check-all").prop("checked", false);
                    return false;
                } else {
                    $(".check-all").prop("checked", true);
                }
            });
        });
        $("#submit").click(function () {
            bootbox.confirm({
                title: "系统提示",
                message: "确定要删除所选？",
                callback: function (result) {
                    if (result) {
                        $("#form").submit();
                    }
                },
                buttons: {
                    "cancel": {"label": "取消"},
                    "confirm": {
                        "label": "确定",
                        "className": "btn-danger"
                    }
                }
            });
        });
        $(".del").click(function () {
            var url = $(this).attr('val');
            bootbox.confirm({
                title: "系统提示",
                message: "确定要删除?",
                callback: function (result) {
                    if (result) {
                        window.location.href = url;
                    }
                },
                buttons: {
                    "cancel": {"label": "取消"},
                    "confirm": {
                        "label": "确定",
                        "className": "btn-danger"
                    }
                }
            });
        });
    })
</script>

</body>
</html>
